# ref: <https://copier.readthedocs.io/en/stable/configuring/>

_answers_file: .config/copier/.copier-answers.rust.yaml

_external_data:
  shared: "{{ answers_file_shared }}"

_envops:
  comment_start_string: "# {#"
  line_statement_prefix: "# %%"

_skip_if_exists:
  - Cargo.toml

_subdirectory: template

answers_file_shared:
  type: str
  default: .config/copier/.copier-answers.shared.yaml

project_name:
  type: str
  default: "{{ _external_data.shared.project_name }}"
  when: false

project_name_slug:
  type: str
  default: "{{ _external_data.shared.project_name_slug }}"
  when: false

author_name:
  type: str
  default: "{{ _external_data.shared.author_name }}"
  when: false

author_email:
  type: str
  default: "{{ _external_data.shared.author_email }}"
  when: false

license:
  type: str
  default: "{{ _external_data.shared.license }}"
  when: false

github_user:
  type: str
  default: "{{ _external_data.shared.github_user }}"
  when: false

github_repo:
  type: str
  default: "{{ _external_data.shared.github_repo }}"
  when: false

namespace:
  type: str
  help: e.g. "namespace", ""
  default: "{{ github_user }}"

package_name:
  type: str
  help: e.g. "namespace-project-name-slug", "project-name-slug"
  default: |-
    {%- if namespace -%}
      {{ namespace | replace('.', '-') | replace('/', '-') }}-{{ project_name_slug | replace('_', '-') }}
    {%- else -%}
      {{ project_name_slug | replace('_', '-') }}
    {%- endif -%}
